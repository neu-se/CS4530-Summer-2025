---
type: basic
title: "Mongoose Attack"
nav_exclude: true
---

In this activity, you'll work with asynchronous programming with the [Mongoose library](https://mongoosejs.com/), which allows your programs to connect to a [MongoDB database](https://www.mongodb.com/).

## Overview

The code for this implements a part of the TranscriptService we've seen previously in lecture, but using a MongoDB database to store information.

## Getting started

Download the [starter code](code/mongo-activity.zip) and run `npm install`. Then run `npm run test`; there will be a lot of test failures. The tests fail because `getTranscript` doesn't return the correct result, and because `addGrade` isn't fully implemented. Your first task will be understanding the difference between what `getTranscript` _should_ be returning and what it's actually returning.

## Fixing the tests

To complete the task, you'll need to learn about how Mongoose models work a bit. There are multiple ways to work through this assignment, but the one that matches the structure of the strategy.town Mongoose models uses the `.populate()` and `.select()` methods to .

- The [MongoDB tutorial](https://neu-se.github.io/CS4530-Spring-2025/tutorials/week1-mongodb-mongoose) from the Spring 2025 iteration of this class
- The [Population](https://mongoosejs.com/docs/populate.html#population) and [Field Selection](https://mongoosejs.com/docs/populate.html#field-selection) sections of the mongoose guides
- The [populate](<https://mongoosejs.com/docs/api/query.html#Query.prototype.populate()>) and [select](<https://mongoosejs.com/docs/api/query.html#Query.prototype.select()>) parts of the  mongoose API docs
- How to [Update a model using save()](https://mongoosejs.com/docs/documents.html#updating-using-save), though as an alternative you could look into how [findOneAndUpdate()](https://mongoosejs.com/docs/tutorials/findoneandupdate.html) works

Don't worry about getting every last one of the tests perfect â€” the intent of this activity is to practice rapidly trying to absorb new docs while working with a group, and to give you a little bit of exposure to Mongoose models before you have to work with them in IP2. You'll submit `src/service.ts` on Gradescope.
